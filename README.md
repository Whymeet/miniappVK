# üöÄ VK Mini App - White-Label –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –ú–∏–∫—Ä–æ–∑–∞–π–º–æ–≤

> White-label —à–∞–±–ª–æ–Ω –¥–ª—è VK Mini App —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=flat&logo=docker&logoColor=white)](https://www.docker.com/)
[![React](https://img.shields.io/badge/react-%2320232a.svg?style=flat&logo=react&logoColor=%2361DAFB)](https://reactjs.org/)
[![Django](https://img.shields.io/badge/django-%23092E20.svg?style=flat&logo=django&logoColor=white)](https://www.djangoproject.com/)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#-–æ–ø–∏—Å–∞–Ω–∏–µ)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [White-Label —Å–∏—Å—Ç–µ–º–∞](#-white-label-—Å–∏—Å—Ç–µ–º–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [API](#-api)
- [–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏](#-—Å–∏—Å—Ç–µ–º–∞-–ø–æ–¥–ø–∏—Å–∫–∏-–∏-—Ä–∞—Å—Å—ã–ª–∫–∏)
- [–°–∫—Ä–∏–Ω—à–æ—Ç—ã](#-—Å–∫—Ä–∏–Ω—à–æ—Ç—ã)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–ì–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —à–∞–±–ª–æ–Ω VK Mini App –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –º–∏–∫—Ä–æ–∑–∞–π–º–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **white-label** (–º—É–ª—å—Ç–∏–±—Ä–µ–Ω–¥–∏–Ω–≥).

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –û–¥–∏–Ω –∫–æ–¥ ‚Üí –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±—Ä–µ–Ω–¥–æ–≤
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥ (—Ü–≤–µ—Ç–∞, –ª–æ–≥–æ, —Ç–µ–∫—Å—Ç—ã)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏ VK ID
- ‚úÖ VK Callback API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Django Admin —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- ‚úÖ Docker ready
- ‚úÖ Production ready
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–í–ê–ñ–ù–û!)

> ‚ö†Ô∏è **–ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´:** –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [GIT_SAFETY.md](GIT_SAFETY.md) —á—Ç–æ–±—ã –Ω–µ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã!

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ:**
- ‚ùå `.env` —Ñ–∞–π–ª—ã
- ‚ùå `DJANGO_SECRET_KEY` –∏ `VK_APP_SECRET`
- ‚ùå –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `db.sqlite3`

**–§–∞–π–ª `.gitignore` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∑–∞—â–∏—â–∞–µ—Ç —ç—Ç–∏ —Ñ–∞–π–ª—ã!**

üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [SECURITY.md](SECURITY.md) | [GIT_SAFETY.md](GIT_SAFETY.md) | [SECURITY_CHECKLIST.md](SECURITY_CHECKLIST.md)

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cat > .env << EOF
DJANGO_SECRET_KEY=my-secret-key
DJANGO_DEBUG=True
VITE_API_BASE=http://localhost:8000
DEFAULT_BRAND=kokos
EOF

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
docker-compose up --build

# 3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# Frontend: http://localhost:5173
# Backend:  http://localhost:8000/api/config/
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [QUICKSTART.md](QUICKSTART.md)

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- **React 18** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Vite** - –±—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞
- **VKUI** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã VK
- **VK Bridge** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VK
- **React Query** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **React Router** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

### Backend
- **Django 4.2** - web framework
- **Django REST Framework** - REST API
- **Gunicorn** - WSGI server
- **SQLite** ‚Üí PostgreSQL ready

### DevOps
- **Docker & Docker Compose**
- **Nginx** - —Å—Ç–∞—Ç–∏–∫–∞ –∏ reverse proxy

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| [QUICKSTART.md](QUICKSTART.md) | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç |
| [ARCHITECTURE.md](ARCHITECTURE.md) | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º—ã |
| [DEVELOPMENT.md](DEVELOPMENT.md) | –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| [DEPLOY.md](DEPLOY.md) | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é |
| [EXAMPLES.md](EXAMPLES.md) | –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| [frontend/README.md](frontend/README.md) | Frontend –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| [backend/README.md](backend/README.md) | Backend –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| [FAQ.md](FAQ.md) | –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã |
| [SECURITY.md](SECURITY.md) | ‚ö†Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö** |
| [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) | –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ |
| [CHANGELOG.md](CHANGELOG.md) | –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π |

## üé® White-Label —Å–∏—Å—Ç–µ–º–∞

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

```
VK Launch ‚Üí vk_group_id ‚Üí –ú–∞–ø–ø–∏–Ω–≥ ‚Üí Brand Config ‚Üí –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã
```

1. **–ò—Å—Ç–æ—á–Ω–∏–∫ –±—Ä–µ–Ω–¥–∞:**
   - `vk_group_id` –∏–∑ launch-params
   - Query –ø–∞—Ä–∞–º–µ—Ç—Ä `?brand=...` (–æ–≤–µ—Ä—Ä–∞–π–¥)
   - –î–µ—Ñ–æ–ª—Ç–Ω—ã–π `DEFAULT_BRAND` –∏–∑ ENV

2. **BrandConfig —Å–æ–¥–µ—Ä–∂–∏—Ç:**
   ```typescript
   {
     palette: { primary, secondary, ... },  // –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
     logo_url: "...",                       // –õ–æ–≥–æ—Ç–∏–ø
     copy: { title, cta, ... },             // –¢–µ–∫—Å—Ç—ã
     features: { default_sort, ... }        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
   }
   ```

3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
   - Frontend –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ `/api/config`
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–µ–º—É —á–µ—Ä–µ–∑ CSS variables
   - –í—Å–µ —Ç–µ–∫—Å—Ç—ã –∏ –ª–æ–≥–æ—Ç–∏–ø –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

### –ü—Ä–∏–º–µ—Ä—ã –±—Ä–µ–Ω–¥–æ–≤

| –ë—Ä–µ–Ω–¥ | URL –¥–ª—è —Ç–µ—Å—Ç–∞ |
|-------|---------------|
| ü•• –ö–æ–∫–æ—Å –ó–∞–π–º | `http://localhost:5173/#/?brand=kokos` |
| üí∞ –ö—É–±—ã—à–∫–∞ –ó–∞–π–º | `http://localhost:5173/#/?brand=kubyshka` |

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [EXAMPLES.md](EXAMPLES.md#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤–æ–≥–æ-–±—Ä–µ–Ω–¥–∞)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
miniappVK/
‚îú‚îÄ‚îÄ frontend/                    # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                # API –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/         # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/              # React hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã (Offers, Policy)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/              # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã (theme, format)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx             # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf              # Nginx –∫–æ–Ω—Ñ–∏–≥
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ backend/                     # Django API
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ brands.py           # üé® –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±—Ä–µ–Ω–¥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ offers.py           # üí≥ –õ–æ–≥–∏–∫–∞ –æ—Ñ—Ñ–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views.py            # API endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py           # –ë–î –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ config/                 # Django settings
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml           # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Makefile                     # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîå API

### Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/config/` | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±—Ä–µ–Ω–¥–∞ |
| GET | `/api/offers/` | –°–ø–∏—Å–æ–∫ –æ—Ñ—Ñ–µ—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ |
| GET | `/api/go/:offer_id/` | –†–µ–¥–∏—Ä–µ–∫—Ç —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º |
| GET | `/api/health/` | Health check |

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–µ–Ω–¥–∞
curl "http://localhost:8000/api/config/?brand=kokos"

# –û—Ñ—Ñ–µ—Ä—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
curl "http://localhost:8000/api/offers/?sum_need=10000&term_days=30&sort=rate"

# –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Ñ—Ñ–µ—Ä
curl -L "http://localhost:8000/api/go/offer_1/?vk_user_id=12345"
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [backend/README.md](backend/README.md)

## üì© –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å–∫–∞:**
   - –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∑—É –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è: VK User ID, Group ID, –±—Ä–µ–Ω–¥, –¥–∞—Ç–∞

2. **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–†–∞–∑—Ä–µ—à–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
   - VK –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ VK API `messages.isMessagesFromGroupAllowed`

3. **–û—Ç–ø–∏—Å–∫–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏"
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–π –¥–∏–∞–ª–æ–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–π –æ—Ç–ø–∏—Å–∫–∏
   - –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

4. **VK Callback API:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –ø—Ä–∏ —Å–æ–±—ã—Ç–∏—è—Ö `message_allow` / `message_deny`
   - –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

### Subscription API

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/api/subscribe/` | –ü–æ–¥–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/subscribe/allow-messages/` | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| POST | `/api/unsubscribe/` | –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ |
| GET | `/api/subscription/status/` | –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ |
| POST | `/api/vk-callback/` | VK Callback API |

### Django Admin

–£–¥–æ–±–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏:

- üìä **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ø–æ –±—Ä–µ–Ω–¥—É, —Å—Ç–∞—Ç—É—Å—É, –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è
- üîç **–ü–æ–∏—Å–∫:** –ø–æ VK User ID
- üì• **–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV:** –≤—ã–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üîó **–ò—Å—Ç–æ—Ä–∏—è:** –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–ª–∏–∫–æ–≤ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞

**–î–æ—Å—Ç—É–ø:** `http://localhost:8000/admin/`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

1. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–∞–±–æ—Ç–∞ —Å API ‚Üí –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á
   - –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: "–°–æ–æ–±—â–µ–Ω–∏—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞"
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ `.env` –∫–∞–∫ `VK_GROUP_ACCESS_TOKEN`

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Callback API:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–∞–±–æ—Ç–∞ —Å API ‚Üí Callback API
   - URL: `https://your-domain.com/api/vk-callback/`
   - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ `.env` –∫–∞–∫ `VK_CALLBACK_SECRET`
   - –°—Ç—Ä–æ–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ `.env` –∫–∞–∫ `VK_CONFIRMATION_CODE`
   - –°–æ–±—ã—Ç–∏—è: `message_allow`, `message_deny`

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

–ü—Ä–∏–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫—É —á–µ—Ä–µ–∑ VK API:

```python
from app.vk_api import send_message
from app.models import Subscriber

# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
subscribers = Subscriber.objects.filter(
    subscribed=True,
    allowed_from_group=True,
    brand='kubyshka'
)

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∂–¥–æ–º—É
for subscriber in subscribers:
    try:
        send_message(
            user_id=subscriber.vk_user_id,
            message="üéâ –ù–æ–≤–æ–µ –≤—ã–≥–æ–¥–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ!"
        )
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–ª—è {subscriber.vk_user_id}: {e}")
```

## üñº –°–∫—Ä–∏–Ω—à–æ—Ç—ã

### –ë—Ä–µ–Ω–¥ "–ö–æ–∫–æ—Å –ó–∞–π–º"
- –û—Ä–∞–Ω–∂–µ–≤–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- –ö–∞—Ä—Ç–æ—á–∫–∏ –æ—Ñ—Ñ–µ—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω VKUI

### –ë—Ä–µ–Ω–¥ "–ö—É–±—ã—à–∫–∞ –ó–∞–π–º"
- –°–∏–Ω—è—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- –¢–µ –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –¥—Ä—É–≥–æ–π —Å—Ç–∏–ª—å
- –°–º–µ–Ω–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ –∏ —Ç–µ–∫—Å—Ç–æ–≤

> üí° **–°–æ–≤–µ—Ç:** –û—Ç–∫—Ä–æ–π—Ç–µ –æ–±–∞ –±—Ä–µ–Ω–¥–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ!

## üöÄ –î–µ–ø–ª–æ–π

### Docker Production

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
DJANGO_DEBUG=False
ALLOWED_HOSTS=your-domain.com
VITE_API_BASE=https://api.your-domain.com

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose up -d --build
```

### VK Hosting

```bash
cd frontend
npm run build
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ dist/ –≤ VK Mini Apps UI
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [DEPLOY.md](DEPLOY.md)

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ Docker

**Backend:**
```bash
cd backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver
```

**Frontend:**
```bash
cd frontend
npm install
npm run dev
```

### –° Docker

```bash
make dev  # –∏–ª–∏ docker-compose -f docker-compose.yml -f docker-compose.dev.yml up
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [DEVELOPMENT.md](DEVELOPMENT.md)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE)

## ü§ù Contributing

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ò–∑—É—á–∏—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–ø—Ä–∏–º–µ—Ä—ã](EXAMPLES.md)
3. –û—Ç–∫—Ä–æ–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è VK Mini Apps**


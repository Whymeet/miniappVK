# üö® –í–ê–ñ–ù–û! –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ Git

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –ø–µ—Ä–µ–¥ –ö–ê–ñ–î–´–ú –∫–æ–º–º–∏—Ç–æ–º:
git status && echo "---" && git diff --cached --name-only | grep -E '(\.env|secret|\.key|\.pem|db\.sqlite3)' && echo "‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã!" || echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞"
```

## üî¥ –¢–û–ü-5 —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï–õ–¨–ó–Ø –∫–æ–º–º–∏—Ç–∏—Ç—å

| –§–∞–π–ª | –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è | –ß—Ç–æ –¥–µ–ª–∞—Ç—å |
|------|---------------|------------|
| `.env` | –°–æ–¥–µ—Ä–∂–∏—Ç SECRET_KEY, –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã | –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore |
| `db.sqlite3` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ | –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore |
| `*.key`, `*.pem` | SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ | –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore |
| `backup/`, `*.sql` | –ë—ç–∫–∞–ø—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ | –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore |
| `*.log` | –õ–æ–≥–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é | –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore |

## ‚úÖ –ß—Ç–æ –ú–û–ñ–ù–û –∫–æ–º–º–∏—Ç–∏—Ç—å

- ‚úÖ `.env.example` - —à–∞–±–ª–æ–Ω –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ `.gitignore` - –ø—Ä–∞–≤–∏–ª–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (Python, TypeScript, etc)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README, etc)

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .gitignore (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ!)

–§–∞–π–ª `.gitignore` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∑–∞—â–∏—â–∞–µ—Ç:
- ‚úÖ –í—Å–µ `.env` —Ñ–∞–π–ª—ã
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
- ‚úÖ –ö–ª—é—á–∏ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- ‚úÖ –õ–æ–≥–∏ –∏ –±—ç–∫–∞–ø—ã
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
cat .gitignore | head -20
# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–µ–∫—Ü–∏—é "–ß–£–í–°–¢–í–ò–¢–ï–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï"
```

## üÜò –ï—Å–ª–∏ —É–∂–µ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∏ .env

### –í–∞—Ä–∏–∞–Ω—Ç 1: –§–∞–π–ª –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–æ–º–º–∏—Ç–µ (–Ω–µ –∑–∞–ø—É—à–∏–ª–∏)

```bash
# –£–¥–∞–ª–∏—Ç–µ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞
git reset HEAD~1
git add .gitignore
git commit -m "Add .gitignore"

# –†–û–¢–ò–†–£–ô–¢–ï –í–°–ï –°–ï–ö–†–ï–¢–´!
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –§–∞–π–ª —É–∂–µ –∑–∞–ø—É—à–µ–Ω –≤ GitHub

```bash
# 1. –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª –∏–∑ Git
git rm --cached .env
git commit -m "Remove .env"
git push

# 2. –û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é (–û–°–¢–û–†–û–ñ–ù–û!)
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch .env" \
  --prune-empty --tag-name-filter cat -- --all

# 3. Force push (–µ—Å–ª–∏ —ç—Ç–æ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
git push origin --force --all

# 4. –ö–†–ò–¢–ò–ß–ù–û: –†–æ—Ç–∏—Ä—É–π—Ç–µ –í–°–ï —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ .env!
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ BFG Repo Cleaner

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (macOS)
brew install bfg

# –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
bfg --delete-files .env

# –û—á–∏—Å—Ç–∫–∞
git reflog expire --expire=now --all
git gc --prune=now --aggressive

# Force push
git push origin --force --all
```

## üîë –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ —É—Ç–µ—á–∫–∏

1. **–ù–ï–ú–ï–î–õ–ï–ù–ù–û —Ä–æ—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   ```bash
   # –ù–æ–≤—ã–π Django Secret Key
   python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
   ```

2. **–ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ VK App Secret:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ Secret Key
   - –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**

4. **–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ë–î**

5. **–£–≤–µ–¥–æ–º–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É**

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
git status

# 2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
git diff --cached

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã
git diff --cached --name-only

# 4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–µ—Ç .env
git diff --cached --name-only | grep .env
# –ù–µ –¥–æ–ª–∂–Ω–æ –Ω–∏—á–µ–≥–æ –≤—ã–≤–µ—Å—Ç–∏!

# 5. –ö–æ–º–º–∏—Ç—å—Ç–µ
git commit -m "Your message"
```

## üõ°Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞

### Pre-commit —Ö—É–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.git/hooks/pre-commit`:

```bash
#!/bin/sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
if git diff --cached --name-only | grep -E '(\.env$|secret|\.key|\.pem)'; then
    echo "‚ö†Ô∏è –û–®–ò–ë–ö–ê: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã!"
    echo "–£–¥–∞–ª–∏—Ç–µ –∏—Ö –∏–∑ –∫–æ–º–º–∏—Ç–∞ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ .gitignore"
    exit 1
fi

echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–∞"
exit 0
```

–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x .git/hooks/pre-commit
```

### GitHub Secret Scanning

GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ —Å–µ–∫—Ä–µ—Ç—ã.
–î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –≤–∫–ª—é—á–∏—Ç–µ Advanced Security.

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ git-secrets

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
brew install git-secrets  # macOS
# –∏–ª–∏
apt-get install git-secrets  # Linux

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
git secrets --install
git secrets --register-aws  # AWS –∫–ª—é—á–∏
git secrets --add 'SECRET_KEY.*'
git secrets --add 'VK_APP_SECRET.*'
```

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –ø–∏—à–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–¥
2. **–í–°–ï–ì–î–ê** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–ü–†–û–í–ï–†–Ø–ô–¢–ï** `git status` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
4. **–ò–°–ü–û–õ–¨–ó–£–ô–¢–ï** `.env.example` –∫–∞–∫ —à–∞–±–ª–æ–Ω
5. **–†–û–¢–ò–†–£–ô–¢–ï** —Å–µ–∫—Ä–µ—Ç—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ (–∫–∞–∂–¥—ã–µ 3-6 –º–µ—Å—è—Ü–µ–≤)
6. **–†–ê–ó–î–ï–õ–Ø–ô–¢–ï** —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è dev/staging/prod
7. **–•–†–ê–ù–ò–¢–ï** production —Å–µ–∫—Ä–µ—Ç—ã –≤ secrets manager (Vault, AWS Secrets)

## üìö –°—Å—ã–ª–∫–∏

- [SECURITY.md](SECURITY.md) - –ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [SECURITY_CHECKLIST.md](SECURITY_CHECKLIST.md) - –î–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç
- [.gitignore](.gitignore) - –§–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û–ï –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï

**–ï—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç –ø–æ–ø–∞–ª –≤ Git, –æ–Ω —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω!**

–î–∞–∂–µ –µ—Å–ª–∏ –≤—ã —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞, –æ–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ Git.
**–í–°–ï–ì–î–ê —Ä–æ—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –ø–æ—Å–ª–µ —É—Ç–µ—á–∫–∏!**

---

**–ë—É–¥—å—Ç–µ –±–¥–∏—Ç–µ–ª—å–Ω—ã! –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - —ç—Ç–æ –Ω–µ –æ–ø—Ü–∏—è, –∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å.**


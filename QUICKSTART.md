# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç

## üöÄ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é)

```bash
cd miniappVK
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Backend
DJANGO_SECRET_KEY=my-secret-key-12345
DJANGO_DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,backend
DEFAULT_BRAND=kokos

# Frontend
VITE_API_BASE=http://localhost:8000

# VK App (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
VK_APP_SECRET=
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker-compose up --build

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Makefile
make build
make up
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

- Frontend: http://localhost:5173
- Backend API: http://localhost:8000/api/config/
- Admin –ø–∞–Ω–µ–ª—å: http://localhost:8000/admin/

### 5. –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
docker-compose exec backend python manage.py createsuperuser
```

---

## üíª –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker

### Backend

```bash
cd backend

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (Windows)
venv\Scripts\activate

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (Linux/Mac)
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ú–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –ó–∞–ø—É—Å–∫
python manage.py runserver
```

Backend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000

### Frontend

```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run dev
```

Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5173

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

```bash
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–µ–Ω–¥–∞ –ö–æ–∫–æ—Å
curl "http://localhost:8000/api/config/?brand=kokos"

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–µ–Ω–¥–∞ –ö—É–±—ã—à–∫–∞
curl "http://localhost:8000/api/config/?brand=kubyshka"

# –°–ø–∏—Å–æ–∫ –æ—Ñ—Ñ–µ—Ä–æ–≤
curl "http://localhost:8000/api/offers/?sum_need=10000&term_days=30"
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ white-label

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- –ë—Ä–µ–Ω–¥ –ö–æ–∫–æ—Å: http://localhost:5173/#/?brand=kokos
- –ë—Ä–µ–Ω–¥ –ö—É–±—ã—à–∫–∞: http://localhost:5173/#/?brand=kubyshka

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:
- –¶–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
- –õ–æ–≥–æ—Ç–∏–ø–∞
- –¢–µ–∫—Å—Ç–æ–≤

---

## üé® –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –±—Ä–µ–Ω–¥–∞

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ `backend/app/brands.py`

### 2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```python
BRAND_CONFIGS = {
    'mybrand': {
        'name': '–ú–æ–π –ë—Ä–µ–Ω–¥',
        'palette': {
            'primary': '#FF0000',      # –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
            'secondary': '#00FF00',    # –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π
            'background': '#FFFFFF',   # —Ñ–æ–Ω
            'surface': '#F5F5F5',      # –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç–æ—á–µ–∫
            'text': '#000000',         # –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
            'textSecondary': '#666',   # –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç
            'accent': '#FF0000',       # –∞–∫—Ü–µ–Ω—Ç
            'error': '#E63946',        # –æ—à–∏–±–∫–∏
            'success': '#06D6A0',      # —É—Å–ø–µ—Ö
        },
        'logo_url': 'YOUR_LOGO_URL',
        'copy': {
            'title': '–ú–æ–π –ë—Ä–µ–Ω–¥',
            'subtitle': '–°–ª–æ–≥–∞–Ω',
            'cta': '–ü–æ–ª—É—á–∏—Ç—å –∑–∞–π–º',
            'disclaimer': '–î–∏—Å–∫–ª–µ–π–º–µ—Ä...',
            'policy_title': '–ü–æ–ª–∏—Ç–∏–∫–∞',
            'policy_text': '–¢–µ–∫—Å—Ç –ø–æ–ª–∏—Ç–∏–∫–∏...',
        },
        'features': {
            'default_sort': 'rate',
            'show_filters': True,
            'show_disclaimer': True,
            'enable_messages': True,
        },
    },
}
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

```bash
docker-compose restart backend
# –∏–ª–∏
python manage.py runserver
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

http://localhost:5173/#/?brand=mybrand

---

## üîß –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### CORS –æ—à–∏–±–∫–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `VITE_API_BASE` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –±—ç–∫–µ–Ω–¥–∞.

**–í .env:**
```
VITE_API_BASE=http://localhost:8000
```

### Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Backend

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: http://localhost:8000/api/config/
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –≤ `backend/config/settings.py`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞ –∑–∞–ø—É—â–µ–Ω—ã

### Docker build –æ—à–∏–±–∫–∏

```bash
# –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose down -v
docker-compose build --no-cache
docker-compose up
```

---

## üìö –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - [README.md](README.md) - –æ–±—â–∏–π –æ–±–∑–æ—Ä
   - [ARCHITECTURE.md](ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - [DEVELOPMENT.md](DEVELOPMENT.md) - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
   - [EXAMPLES.md](EXAMPLES.md) - –ø—Ä–∏–º–µ—Ä—ã

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –°–æ–∑–¥–∞–π—Ç–µ VK Mini App
   - –î–æ–±–∞–≤—å—Ç–µ URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ trusted domains

3. **–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –±—Ä–µ–Ω–¥—ã
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ñ—Ñ–µ—Ä—ã
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–º–∏ API

4. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ PostgreSQL
   - –î–æ–±–∞–≤—å—Ç–µ SSL
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É

---

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose logs -f
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ—Ä—Ç—ã —Å–≤–æ–±–æ–¥–Ω—ã (5173, 8000)

4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
docker-compose restart
```

---

**–ì–æ—Ç–æ–≤–æ! üéâ** 

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–±–æ—á–∏–π white-label VK Mini App –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –º–∏–∫—Ä–æ–∑–∞–π–º–æ–≤.

–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–≤–æ–∏—Ö –±—Ä–µ–Ω–¥–æ–≤ –∏ –æ—Ñ—Ñ–µ—Ä–æ–≤!

